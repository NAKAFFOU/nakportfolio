document.addEventListener('DOMContentLoaded', function () {
    const accordionLinks = document.querySelectorAll('.u-accordion-link');

    accordionLinks.forEach(link => {
        link.addEventListener('click', function (e) {
            e.preventDefault();

            const isActive = link.getAttribute('aria-selected') === 'true';
            const accordionPane = document.getElementById(link.getAttribute('aria-controls'));

            // Toggle the current accordion item
            link.setAttribute('aria-selected', !isActive);
            accordionPane.classList.toggle('u-accordion-active');

            // Collapse all other accordion items
            accordionLinks.forEach(otherLink => {
                if (otherLink !== link) {
                    otherLink.setAttribute('aria-selected', 'false');
                    document.getElementById(otherLink.getAttribute('aria-controls')).classList.remove('u-accordion-active');
                }
            });
        });
    });
});
